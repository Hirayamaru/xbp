<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8">
    <title>5_kiichi_hirayama</title>
    <link rel="stylesheet" type="text/css" href="styles.css">
  </head>
  <body>
    
    <h1>第5回まとめ</h1>
   <div>
   <ul>
    <li>
        私たちは場所を入力すると、その気温に基づいた適切な服を提案する物を作ろうと思いました。<br>
        そのためにwrthwe API というものを使いました。しかし結果から申し上げますと、完成させることができませんでした。
    </li>
   </ul>
   </div>

   <div>
    <ul>
        <li>
            こちらがそのコードになります。
        </li>
    </ul>
   </div>
   
   <p>
    <code>
        <ol style="list-style:decimal-leading-zero outside;in-left:0;padding-left:36px;margin:0;background-color:#F7F7F7;color:#000;">
        <li>import requests</li>
        <li>from PIL import Image</li>
        <li>from IPython.display import display  # Jupyter Notebookでの表示のため</li>
        <li></li>
        <li># 画像ファイルのパスをリストとして指定</li>
        <li>image_paths = [</li>
        <li>&nbsp;&nbsp;&nbsp;&nbsp;r"C:\Users\Kiich\Downloads\27087195_s.jpg",  # 0</li>
        <li>&nbsp;&nbsp;&nbsp;&nbsp;r"C:\Users\Kiich\Downloads\27291013_s.jpg",  # 1</li>
        <li>&nbsp;&nbsp;&nbsp;&nbsp;r"C:\Users\Kiich\Downloads\4525538_s.jpg"   # 2</li>
        <li>]</li>
        <li></li>
        <li># 天気情報を取得</li>
        <li>url = "https://api.weatherapi.com/v1/current.json?key=9578d0e7dac54754bc470314233110&amp;q=Tokyo&amp;aqi=yes"</li>
        <li>response = requests.get(url)</li>
        <li></li>
        <li>if response.status_code == 200:</li>
        <li>&nbsp;&nbsp;&nbsp;&nbsp;data = response.json()</li>
        <li>&nbsp;&nbsp;&nbsp;&nbsp;place = data['location']['name']</li>
        <li>&nbsp;&nbsp;&nbsp;&nbsp;temperature = data['current']['temp_c']</li>
        <li></li>
        <li>&nbsp;&nbsp;&nbsp;&nbsp;# 気温に応じて画像を選択</li>
        <li>&nbsp;&nbsp;&nbsp;&nbsp;if 15 &lt;= temperature &lt; 20:</li>
        <li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;print(f"気温: {temperature}°C")</li>
        <li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# 15~20度の範囲の場合、指定の画像Aを表示</li>
        <li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;image_url = image_paths[0]</li>
        <li></li>
        <li>&nbsp;&nbsp;&nbsp;&nbsp;elif 20 &lt;= temperature &lt; 25:</li>
        <li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;print(f"気温: {temperature}°C")</li>
        <li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# 20~25度の範囲の場合、指定の画像Bを表示</li>
        <li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;image_url = image_paths[2]</li>
        <li></li>
        <li>&nbsp;&nbsp;&nbsp;&nbsp;elif 25 &lt;= temperature &lt; 30:</li>
        <li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;print(f"気温: {temperature}°C")</li>
        <li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;image_url = image_paths[1]</li>
        <li></li>
        <li>&nbsp;&nbsp;&nbsp;&nbsp;else:</li>
        <li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;print(f"気温: {temperature}°C")</li>
        <li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;print("指定の気温範囲外です。")</li>
        <li></li>
        <li>&nbsp;&nbsp;&nbsp;&nbsp;# 選択した画像を表示</li>
        <li>&nbsp;&nbsp;&nbsp;&nbsp;img = Image.open(image_url)</li>
        <li>&nbsp;&nbsp;&nbsp;&nbsp;display(img)</li>
        <li></li>
        <li>else:</li>
        <li>&nbsp;&nbsp;&nbsp;&nbsp;print("気温情報を取得できませんでした。APIキーや場所を確認してください.")</li>
        <li></li>
        <li>print(place, temperature, "度")</li>
        <li></li>
        </ol></code>
   </p>

   <div>
    <ul>
        <li>
            このコードは利用者に場所の名前（例、Tokyo）を入力してもらい、Wether APIによてその場所の気温を出して貰います。<br>
            後はその出てきた気温によって適切な服装の画像を出すというものになっています。<br>

        </li>
    </ul>
   </div>
  </body>
</html>
